<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>{{page_title}}</title>
        <meta name="description" content="{{page_description}}" />
        <link rel="canonical" href="{{canonical_url}}" />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:site_name" content="Chayannito 26" />
        <meta property="og:title" content="{{page_title}}" />
        <meta property="og:description" content="{{page_description}}" />
        <meta property="og:url" content="{{canonical_url}}" />
        <meta property="og:image" content="{{meta_image}}" />
        <meta property="og:image:alt" content="Verification card for {{name}} ({{registration_id}})" />

        <!-- Twitter -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="@chayannito26" />
        <meta name="twitter:title" content="{{page_title}}" />
        <meta name="twitter:description" content="{{page_description}}" />
        <meta name="twitter:image" content="{{meta_image}}" />

        <!-- JSON-LD structured data -->
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Person",
            "name": "{{name}}",
            "image": "{{meta_image}}",
            "jobTitle": "Registrant",
            "identifier": "{{registration_id}}",
            "description": "{{page_description}}",
            "url": "{{canonical_url}}"
        }
        </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Chayannito 26 Verification System Styles */
        * { box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; margin: 0; padding: 0; background-color: #f3f4f6; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; padding: 1rem; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .flex-1 { flex: 1 1 0%; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .text-center { text-align: center; }
        .bg-white { background-color: #ffffff; }
        .bg-green-50 { background-color: #f0fdf4; }
        .text-slate-700 { color: #334155; }
        .text-gray-400 { color: #9ca3af; }
        .text-gray-500 { color: #6b7280; }
        .text-gray-800 { color: #1f2937; }
        .text-green-600 { color: #16a34a; }
        .text-green-700 { color: #15803d; }
        .text-green-800 { color: #166534; }
        .text-green-900 { color: #14532d; }
        .text-white { color: #ffffff; }
        .text-xs { font-size: 0.75rem; line-height: 1rem; }
        .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
        .text-xl { font-size: 1.25rem; line-height: 1.75rem; }
        .text-2xl { font-size: 1.5rem; line-height: 2rem; }
        .font-medium { font-weight: 500; }
        .font-semibold { font-weight: 600; }
        .font-bold { font-weight: 700; }
        .font-mono { font-family: ui-monospace, SFMono-Regular, "SF Mono", Monaco, Inconsolata, "Roboto Mono", monospace; }
        .p-2 { padding: 0.5rem; }
        .p-4 { padding: 1rem; }
        .p-8 { padding: 2rem; }
        .px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
        .py-1 { padding-top: 0.25rem; padding-bottom: 0.25rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
        .mt-1 { margin-top: 0.25rem; }
        .mt-6 { margin-top: 1.5rem; }
        .mt-8 { margin-top: 2rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .w-5 { width: 1.25rem; }
        .w-10 { width: 2.5rem; }
        .w-32 { width: 8rem; }
        .w-full { width: 100%; }
        .h-5 { height: 1.25rem; }
        .h-10 { height: 2.5rem; }
        .h-32 { height: 8rem; }
        .h-full { height: 100%; }
        .max-w-sm { max-width: 24rem; }
        .relative { position: relative; }
        .absolute { position: absolute; }
        .bottom-0 { bottom: 0; }
        .right-0 { right: 0; }
        .border-4 { border-width: 4px; }
        .border-t { border-top-width: 1px; }
        .border-white { border-color: #ffffff; }
        .border-green-200 { border-color: #bbf7d0; }
        .rounded-md { border-radius: 0.375rem; }
        .rounded-lg { border-radius: 0.5rem; }
        .rounded-xl { border-radius: 0.75rem; }
        .rounded-2xl { border-radius: 1rem; }
        .rounded-full { border-radius: 9999px; }
        .shadow { box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06); }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .overflow-hidden { overflow: hidden; }
        .object-cover { object-fit: cover; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .space-y-4 > :not([hidden]) ~ :not([hidden]) { margin-top: 1rem; }
        .inline-flex { display: inline-flex; }
        .shrink-0 { flex-shrink: 0; }
        .opacity-90 { opacity: 0.9; }
        .focus\:outline-none:focus { outline: 2px solid transparent; outline-offset: 2px; }
        .focus\:ring-2:focus { box-shadow: 0 0 0 2px rgba(52, 211, 153, 0.5); }
        .hover\:underline:hover { text-decoration-line: underline; }
        .transform { transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)); }
        .transition-all { transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
        .duration-300 { transition-duration: 300ms; }
        .hover\:scale-\[1\.02\]:hover { transform: scale(1.02); }
        
        /* Gradient backgrounds */
        .bg-gradient-to-br { background-image: linear-gradient(to bottom right, var(--tw-gradient-stops)); }
        .bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-stops)); }
        .from-emerald-500 { --tw-gradient-from: #10b981; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(16, 185, 129, 0)); }
        .to-green-600 { --tw-gradient-to: #16a34a; }
        .hover\:from-emerald-600:hover { --tw-gradient-from: #059669; }
        .hover\:to-green-700:hover { --tw-gradient-to: #15803d; }
        
        /* Status-specific styles */
        .status-verified { background-color: #10b981; }
        .status-pending { background-color: #f59e0b; }
        .status-revoked { background-color: #ef4444; }
        .status-invalid { background-color: #6b7280; }
        .status-text-verified { color: #059669; }
        .status-text-pending { color: #d97706; }
        .status-text-revoked { color: #dc2626; }
        .status-text-invalid { color: #dc2626; }
        .border-verified { border-color: #10b981; }
        .border-pending { border-color: #f59e0b; }
        .border-revoked { border-color: #ef4444; }
        .border-invalid { border-color: #6b7280; }
        .avatar-grayscale { filter: grayscale(100%); }
        .footer-bg-verified { background-color: #d1fae5; }
        .footer-bg-pending { background-color: #fef3c7; }
        .footer-bg-revoked { background-color: #fee2e2; }
        .footer-bg-invalid { background-color: #f3f4f6; }
        .footer-border-verified { border-color: #a7f3d0; }
        .footer-border-pending { border-color: #fde68a; }
        .footer-border-revoked { border-color: #fecaca; }
        .footer-border-invalid { border-color: #d1d5db; }
        .id-badge-verified { background-color: #a7f3d0; }
        .id-badge-pending { background-color: #fde68a; }
        .id-badge-revoked { background-color: #fecaca; }
        .id-badge-invalid { background-color: #e5e7eb; }
        
        hr { border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0; }
    </style>
</head>
<body>
    <div class="mb-6 flex items-center gap-2">
        <a href="/" style="display: inline-flex; align-items: center; gap: 0.75rem; text-decoration: none; color: inherit;">
            <img src="./assets/logo.png" alt="Chayannito 26" style="width:48px;height:48px;object-fit:contain;border-radius:6px;" onerror="this.onerror=null;this.style.display='none'">
            <span class="text-xl font-bold text-slate-700">Chayannito 26</span>
        </a>
    </div>

    {{revoked_banner}}

    <div class="bg-white w-full max-w-sm rounded-2xl shadow-lg overflow-hidden transform transition-all hover:scale-[1.02] duration-300">
        <div class="p-8 relative">
            <!-- small top-right logo inside the card -->
            <img src="/assets/logo.png" alt="logo" style="position:absolute; top:16px; right:16px; width:40px; height:40px; object-fit:contain; border-radius:6px;" onerror="this.style.display='none'">
            <div class="relative w-32 h-32 mx-auto mb-6">
                <img
                    class="rounded-full w-full h-full object-cover border-4 {{avatar_border_class}} {{avatar_filter_class}}"
                    src="{{photo}}"
                    alt="Registrant's Photo"
                    onerror="this.onerror=null;this.src='https://chayannito26.com/college-students/images/placeholder.jpg'">
                <div class="absolute bottom-0 right-0 {{status_badge_bg}} rounded-full p-2 border-4 border-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                        <path stroke-linecap="round" stroke-linejoin="round" d="{{status_icon_path}}" />
                    </svg>
                </div>
            </div>

            <div class="text-center">
                <h1 class="text-2xl font-bold text-gray-800">{{name}}</h1>
                <p class="text-sm font-medium {{status_text_class}} mt-1">{{status_text}}</p>
            </div>

            <hr class="my-6 border-t border-gray-200">

            <div class="space-y-4 text-sm">
                <div class="flex justify-between items-center">
                    <span class="text-gray-500 font-medium">Roll Number</span>
                    <span id="rollNumber" data-full-roll="{{roll}}" class="text-gray-800 font-semibold">{{roll}}</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-gray-500 font-medium">Gender</span>
                    <span class="text-gray-800 font-semibold">{{gender}}</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-gray-500 font-medium">Registration Date</span>
                    <span class="text-gray-800 font-semibold">{{registration_date}}</span>
                </div>
                {{referred_by_section}}
            </div>

            <!-- Shop CTA -->
            <div class="mt-6">
                <div class="rounded-xl border border-green-200 bg-green-50 p-4 flex items-center gap-4">
                    <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-emerald-500 to-green-600 text-white flex items-center justify-center shadow">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 10-8 0v4M5 9h14l-1 10a2 2 0 01-2 2H8a2 2 0 01-2-2L5 9z" />
                        </svg>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm text-green-900 font-semibold">Love Chayannito 26?</p>
                        <p class="text-xs text-green-700">Grab official merchandise and support the program.</p>
                    </div>
                    <a href="https://shop.chayannito26.com" target="_blank" rel="noopener noreferrer"
                       class="shrink-0 inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-500 to-green-600 px-4 py-2 text-white font-semibold shadow hover:from-emerald-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-emerald-400">
                        Shop
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 opacity-90" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>

        <div class="{{footer_bar_bg_class}} px-6 py-4 border-t {{footer_bar_border_class}}">
            <div class="flex justify-between items-center">
                <span class="{{id_text_class}} font-medium text-xs">Registration ID</span>
                <span class="font-mono {{id_text_class}} font-bold text-sm {{id_badge_bg_class}} px-2 py-1 rounded-md">{{registration_id}}</span>
            </div>
        </div>
    </div>

    <footer class="text-center mt-8">
        <p class="text-xs text-gray-400">Scanned on: <span id="scanDate"></span></p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dateElement = document.getElementById('scanDate');
            if (dateElement) {
                dateElement.textContent = new Date().toLocaleString('en-US', {
                    year: 'numeric', month: 'long', day: 'numeric',
                    hour: '2-digit', minute: '2-digit'
                });
            }

            // Show only last 5 characters of roll on tablets and mobile (<= 1024px)
            const rollEl = document.getElementById('rollNumber');
            function updateRollDisplay() {
                if (!rollEl) return;
                const full = rollEl.getAttribute('data-full-roll') || rollEl.textContent || '';
                const width = window.innerWidth || document.documentElement.clientWidth;
                if (width <= 1024) {
                    // show last 5 characters (if available)
                    const last5 = full.length > 5 ? full.slice(-5) : full;
                    rollEl.textContent = last5;
                } else {
                    // restore full roll
                    rollEl.textContent = full;
                }
            }

            // Initial update and also on resize/orientation change
            updateRollDisplay();
            window.addEventListener('resize', updateRollDisplay);
            window.addEventListener('orientationchange', updateRollDisplay);
        });
    </script>
</body>
</html>
